{
	"$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
	"contentVersion": "1.0.0.0",
	"parameters": {
		"factoryName": {
			"type": "string",
			"metadata": "Data Factory name",
			"defaultValue": "OptyADF"
		}
	},
	"variables": {
		"factoryId": "[concat('Microsoft.DataFactory/factories/', parameters('factoryName'))]"
	},
	"resources": [
		{
			"name": "[concat(parameters('factoryName'), '/Binary_ContasReceber')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureBlobStorage_Recebimento",
					"type": "LinkedServiceReference"
				},
				"parameters": {
					"FileSystem": {
						"type": "string"
					}
				},
				"annotations": [],
				"type": "Binary",
				"typeProperties": {
					"location": {
						"type": "AzureBlobStorageLocation",
						"container": {
							"value": "@dataset().FileSystem",
							"type": "Expression"
						}
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/CEOP_DS')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"description": "Data Source que lê dados gravados na pasta CEOP no storage account",
				"linkedServiceName": {
					"referenceName": "sv_hmaisbrasildatadriven",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileName": "CEOP_TESTE.csv",
						"fileSystem": "ceop"
					},
					"columnDelimiter": ";",
					"escapeChar": "\\",
					"firstRowAsHeader": true,
					"quoteChar": "\""
				},
				"schema": [
					{
						"name": "Atendimento;Cnv.Id;Conv�nio;Guia;Guia Operadora;Data Guia;Prontu�rio;Paciente;Matricula;Validade Matricula;M�dico Atendimento;Tp. Atend;Status Atend;Data Atendimento;Hora Atendimento;Data Sa�da;Hora Sa�da;Conta;Data Conta;ID Item;Codigo Item;Item;Tipo Item;ID Grupo;Grupo do Item;Status Conta;Data Lan�amento;Hora Lan�amento;Quant.;Valor Unit.;Valor Total;ID Plano;Plano;Id Empresa;Empresa;Cod.Prestador;Prestador;Cod.Executante;Executante;Data Solic.Exame;Data Laudo Exame;Data Entrega Exame;ID Tecnico;T�cnico;Valor Glosado;Valor Recebido;Motivo de Glosa;",
						"type": "String"
					}
				]
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/CEOP_DS_EXCEL')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "sv_hmaisbrasildatadriven",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "Excel",
				"typeProperties": {
					"sheetName": "Plan1",
					"location": {
						"type": "AzureBlobFSLocation",
						"fileName": "CEOP_GESTHOR.xlsx",
						"fileSystem": "ceop"
					},
					"firstRowAsHeader": true
				},
				"schema": [
					{
						"name": "Atendimento",
						"type": "String"
					},
					{
						"name": "Cnv.Id",
						"type": "String"
					},
					{
						"name": "Convênio",
						"type": "String"
					},
					{
						"name": "Guia",
						"type": "String"
					},
					{
						"name": "Guia Operadora",
						"type": "String"
					},
					{
						"name": "Data Guia",
						"type": "String"
					},
					{
						"name": "Prontuário",
						"type": "String"
					},
					{
						"name": "Paciente",
						"type": "String"
					},
					{
						"name": "Matricula",
						"type": "String"
					},
					{
						"name": "Validade Matricula",
						"type": "String"
					},
					{
						"name": "Médico Atendimento",
						"type": "String"
					},
					{
						"name": "Tp. Atend",
						"type": "String"
					},
					{
						"name": "Status Atend",
						"type": "String"
					},
					{
						"name": "Data Atendimento",
						"type": "String"
					},
					{
						"name": "Hora Atendimento",
						"type": "String"
					},
					{
						"name": "Data Saída",
						"type": "String"
					},
					{
						"name": "Hora Saída",
						"type": "String"
					},
					{
						"name": "Conta",
						"type": "String"
					},
					{
						"name": "Data Conta",
						"type": "String"
					},
					{
						"name": "ID Item",
						"type": "String"
					},
					{
						"name": "Codigo Item",
						"type": "String"
					},
					{
						"name": "Item",
						"type": "String"
					},
					{
						"name": "Tipo Item",
						"type": "String"
					},
					{
						"name": "ID Grupo",
						"type": "String"
					},
					{
						"name": "Grupo do Item",
						"type": "String"
					},
					{
						"name": "Status Conta",
						"type": "String"
					},
					{
						"name": "Data Lançamento",
						"type": "String"
					},
					{
						"name": "Hora Lançamento",
						"type": "String"
					},
					{
						"name": "Quant.",
						"type": "String"
					},
					{
						"name": "Valor Unit.",
						"type": "String"
					},
					{
						"name": "Valor Total",
						"type": "String"
					},
					{
						"name": "ID Plano",
						"type": "String"
					},
					{
						"name": "Plano",
						"type": "String"
					},
					{
						"name": "Id Empresa",
						"type": "String"
					},
					{
						"name": "Empresa",
						"type": "String"
					},
					{
						"name": "Cod.Prestador",
						"type": "String"
					},
					{
						"name": "Prestador",
						"type": "String"
					},
					{
						"name": "Cod.Executante",
						"type": "String"
					},
					{
						"name": "Executante",
						"type": "String"
					},
					{
						"name": "Data Solic.Exame",
						"type": "String"
					},
					{
						"name": "Data Laudo Exame",
						"type": "String"
					},
					{
						"name": "Data Entrega Exame",
						"type": "String"
					},
					{
						"name": "ID Tecnico",
						"type": "String"
					},
					{
						"name": "Técnico",
						"type": "String"
					},
					{
						"name": "Valor Glosado",
						"type": "String"
					},
					{
						"name": "Valor Recebido",
						"type": "String"
					},
					{
						"name": "Motivo de Glosa",
						"type": "String"
					}
				]
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/CSV_ANS_TUSS')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureBlobStorage_ANS",
					"type": "LinkedServiceReference"
				},
				"parameters": {
					"Filename": {
						"type": "string"
					}
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobStorageLocation",
						"fileName": {
							"value": "@dataset().Filename",
							"type": "Expression"
						},
						"folderPath": "tuss",
						"container": "ans"
					},
					"columnDelimiter": ";",
					"encodingName": "ISO-8859-1",
					"escapeChar": "\\",
					"firstRowAsHeader": true,
					"quoteChar": "\""
				},
				"schema": []
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/CSV_OFTALMODIAGNOSE')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureBlobStorage_Oftalmodiagnose",
					"type": "LinkedServiceReference"
				},
				"parameters": {
					"nome_tabela": {
						"type": "string"
					}
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobStorageLocation",
						"fileName": {
							"value": "@dataset().nome_tabela",
							"type": "Expression"
						},
						"container": "oftalmodiagnose"
					},
					"columnDelimiter": ";",
					"rowDelimiter": "^",
					"escapeChar": "\\",
					"firstRowAsHeader": true,
					"quoteChar": ""
				},
				"schema": []
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/DESTINO_ADF')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureSQL_DB_Procedimentos",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Data Warehouse"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [],
				"typeProperties": {
					"schema": "A",
					"table": "DESTINO_X"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/DESTINO_TABELAS_ADF')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureSQL_DB_Procedimentos",
					"type": "LinkedServiceReference"
				},
				"parameters": {
					"Schema_Destino": {
						"type": "string"
					},
					"Tabela_Destino": {
						"type": "string"
					}
				},
				"folder": {
					"name": "Data Warehouse"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [],
				"typeProperties": {
					"schema": {
						"value": "@dataset().Schema_Destino",
						"type": "Expression"
					},
					"table": {
						"value": "@dataset().Tabela_Destino",
						"type": "Expression"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/DS_Five9')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "Five9",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "RestResource",
				"typeProperties": {
					"relativeUrl": {
						"value": "\\99 - Relatorios ESP\\ESP0001",
						"type": "Expression"
					}
				},
				"schema": []
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/DS_HMAISDATADRIVEN')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "sv_hmaisbrasildatadriven",
					"type": "LinkedServiceReference"
				},
				"parameters": {
					"Filesystem": {
						"type": "string"
					},
					"File": {
						"type": "string"
					}
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileName": {
							"value": "@dataset().File",
							"type": "Expression"
						},
						"fileSystem": {
							"value": "@dataset().Filesystem",
							"type": "Expression"
						}
					},
					"columnDelimiter": ";",
					"encodingName": "ISO-8859-1",
					"escapeChar": "\\",
					"firstRowAsHeader": true,
					"quoteChar": "\""
				},
				"schema": []
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/DS_HMAISDATADRIVEN_BINARY')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "sv_hmaisbrasildatadriven",
					"type": "LinkedServiceReference"
				},
				"parameters": {
					"FileSystem": {
						"type": "string"
					}
				},
				"annotations": [],
				"type": "Binary",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileSystem": {
							"value": "@dataset().FileSystem",
							"type": "Expression"
						}
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/DW_ORIGEM')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureSQL_DB_Procedimentos",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Data Warehouse"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [],
				"typeProperties": {}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Excel_Recebimento')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureBlobStorage_Recebimento",
					"type": "LinkedServiceReference"
				},
				"parameters": {
					"FileBlob": {
						"type": "string"
					}
				},
				"annotations": [],
				"type": "Excel",
				"typeProperties": {
					"sheetName": "Recebimentos Consolidado",
					"location": {
						"type": "AzureBlobStorageLocation",
						"fileName": {
							"value": "@dataset().FileBlob",
							"type": "Expression"
						},
						"container": "contasreceber"
					},
					"firstRowAsHeader": true
				},
				"schema": []
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/FILE_ACTION')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "sv_hmaisbrasildatadriven",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileName": {
							"value": "action.csv",
							"type": "Expression"
						},
						"fileSystem": "requestia"
					},
					"columnDelimiter": ";",
					"escapeChar": "\\",
					"firstRowAsHeader": true,
					"quoteChar": "\""
				},
				"schema": [
					{
						"type": "String"
					}
				]
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/FILE_CLIENT')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "sv_hmaisbrasildatadriven",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileName": {
							"value": "client.csv",
							"type": "Expression"
						},
						"fileSystem": "requestia"
					},
					"columnDelimiter": ";",
					"escapeChar": "\\",
					"firstRowAsHeader": true,
					"quoteChar": "\""
				},
				"schema": [
					{
						"type": "String"
					}
				]
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/FILE_QANSWER_NEW')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "sv_hmaisbrasildatadriven",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileName": {
							"value": "qanswer.csv",
							"type": "Expression"
						},
						"fileSystem": "requestia"
					},
					"columnDelimiter": ";",
					"escapeChar": "\\",
					"firstRowAsHeader": true,
					"quoteChar": "\""
				},
				"schema": [
					{
						"type": "String"
					}
				]
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/FILE_QSESSION_NEW')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "sv_hmaisbrasildatadriven",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileName": {
							"value": "qsession.csv",
							"type": "Expression"
						},
						"fileSystem": "requestia"
					},
					"columnDelimiter": ";",
					"escapeChar": "\\",
					"firstRowAsHeader": true,
					"quoteChar": "\""
				},
				"schema": [
					{
						"type": "String"
					}
				]
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/FILE_QTABLEANSWER_NEW')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "sv_hmaisbrasildatadriven",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileName": {
							"value": "qtableanswer.csv",
							"type": "Expression"
						},
						"fileSystem": "requestia"
					},
					"columnDelimiter": ";",
					"escapeChar": "\\",
					"firstRowAsHeader": true,
					"quoteChar": "\""
				},
				"schema": [
					{
						"type": "String"
					}
				]
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/FILE_REQUESTS_NEW')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "sv_hmaisbrasildatadriven",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileName": {
							"value": "ho_aux_request.csv",
							"type": "Expression"
						},
						"fileSystem": "requestia"
					},
					"columnDelimiter": ";",
					"escapeChar": "\\",
					"firstRowAsHeader": true,
					"quoteChar": "\""
				},
				"schema": [
					{
						"type": "String"
					}
				]
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/FIVE9_DS_CSV_ESP0001')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "sv_hmaisbrasildatadriven",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileName": "FIVE9_ESP0001.csv",
						"fileSystem": "five9"
					},
					"columnDelimiter": ";",
					"escapeChar": "\\",
					"firstRowAsHeader": true,
					"quoteChar": "\""
				},
				"schema": [
					{
						"type": "String"
					}
				]
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/FIVE9_DS_CSV_ESP0002')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "sv_hmaisbrasildatadriven",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileName": "FIVE9_ESP0002.csv",
						"fileSystem": "five9"
					},
					"columnDelimiter": ";",
					"escapeChar": "\\",
					"firstRowAsHeader": true,
					"quoteChar": "\""
				},
				"schema": [
					{
						"type": "String"
					}
				]
			},
			"dependsOn": []
		}
	]
}